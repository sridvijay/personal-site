<head>
  <style>
    body {
      margin: 0;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <!-- <script src="//unpkg.com/globe.gl"></script> -->
  <script src="./dist/globe.gl.js"></script>
  <script src="https://www.unpkg.com/freezeframe@5.0.2/dist/freezeframe.min.js"></script>
  <link rel="stylesheet" href="https://use.typekit.net/qty5bax.css" />
  <link rel="stylesheet" href="./stylesheet.css" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="viewport" content="initial-scale=1.0" />
</head>

<body style="background-color: black">
  <div id="header" style="position: relative; display: inline-block">
    <div id="globeViz" style="position: relative; display: inline-block"></div>
    <div style="display: flex; justify-content:center; align-items:center; width: 100%; height: 100%; top: 0px; position: absolute; pointer-events: none;
    ">
    <p
    style="
    width: 300px;
    height: 60px;
    margin-left: 320px;
    margin-top: 65px;
    text-align: left;
    color: white;
    opacity: 0;
    font-family: pinecone-mvb, sans-serif;
    font-weight: 400;
    font-style: normal;
    font-size: 24px;
    transition: opacity 0.5s;
    -webkit-transition: opacity 0.5s; /* Safari */
    text-shadow: 0px 10px 20px rgba(0, 0, 0, 1.0);
    "
    class="mini_city"
    id="mini_city"
>
    New York
</p></div>
    <p
      class="city-name"
      id="city_name"
    >
      
    </p>
    <p
      class="season-name"
      id="season_name"
    >
      
    </p>
  </div>
          <p class="header_title" style="opacity: 0.25;" id="header_title">
      Travel Log
    </p>
    <p
      class="header_subtitle" style="opacity: 0.5;" id="header_subtitle"
    >
      Spring '24
    </p>
</div>
</body>


<script>

  const ARC_REL_LEN = 0.4; // relative to whole arc
  const FLIGHT_TIME = 1000;
  const NUM_RINGS = 5;
  const RINGS_MAX_R = 1; // deg
  const RING_PROPAGATION_SPEED = 1; // deg/sec

  var hasClickedGlobe = false;

  const globe = Globe()
    .globeImageUrl("/cities.jpg")
    .bumpImageUrl('./bump3-min.jpg')
    .alphaImageUrl('./alpha_invert.jpg')
    .arcColor(() => "darkOrange")
    .backgroundColor("#000000")
    .onGlobeClick(clickedLocation)
    .arcDashLength(ARC_REL_LEN)
    .enablePointerInteraction(false)
    .showAtmosphere(false)
    .arcDashGap(2)
    .arcDashInitialGap(1)
    .arcStroke(0.25)
    .arcAltitudeAutoScale(0.5)
    .arcColor(() => (t) => `rgba(255,255,255,${1 - (1 - t)})`)
    .arcDashAnimateTime(FLIGHT_TIME)
    .arcsTransitionDuration(0)
    .ringColor(() => (t) => `rgba(255,255,255,${1 - t})`)
    .ringMaxRadius(RINGS_MAX_R)
    .ringPropagationSpeed(RING_PROPAGATION_SPEED)
    .ringRepeatPeriod((FLIGHT_TIME * ARC_REL_LEN) / NUM_RINGS)(
    document.getElementById("globeViz")
  );

  globe.width([window.innerWidth])
  globe.height([window.innerHeight])
    // Prevent globe from getting touch or pointer events
  document.getElementById("globeViz").style.pointerEvents = "none";

  // custom globe material
  const globeMaterial = globe.globeMaterial();
  globeMaterial.bumpScale = 5;

  document.addEventListener('rotateglobe', function(event) {
    hasClickedGlobe = true;

    document.getElementById("mini_city").style.opacity = 0;
    document.getElementById("mini_city").classList.remove("slide-right");
  });

  var directionalLight2;

  document.addEventListener('changeglobe', function(event) {
    if (directionalLight2 != null) {
      directionalLight2.position.set(globe.camera().position.x, globe.camera().position.y, globe.camera().position.z);
    }
  });

  window.addEventListener('resize', (event) => {
    globe.width([event.target.innerWidth])
    if (window.innerWidth > 600) {
      globe.height([event.target.innerHeight])
    }
  });

  if (window.innerWidth < 600) {
    globe.pointOfView({ lat: 40.7128, lng: -74.006, altitude: 1.2 });
  } else {
    globe.pointOfView({ lat: 40.7128, lng: -74.006, altitude: 1.6 });
  }

  setTimeout(function () {
    // add new ambient light
    ambientLight = new THREE.AmbientLight(0xffffff, 2.0);
    globe.scene().add(ambientLight);

    // add new directional light
    directionalLight2 = new THREE.DirectionalLight(0x6d6d6d, 2.0);
    directionalLight2.position.set(globe.camera().position.x, globe.camera().position.y, globe.camera().position.z);
    globe.scene().add(directionalLight2);

  }, 0);

  function scrollDown() {
    if (window.innerWidth > 600) {
      var element = document.getElementById("content-d");
    } else {
      var element = document.getElementById("content");
    }
    element.scrollIntoView({behavior: "smooth", block: "start", inline: "nearest"});

  }

  const cities = [
    {
    "city": "zillertal",
    "latitude": "47.1833",
    "longitude": "11.8000",
    "season": "winter '24"
    },
    {
    "city": "venice",
    "latitude": "45.4408",
    "longitude": "12.3155",
    "season": "winter '24"
    },
    {
    "city": "vicenza",
    "latitude": "45.5450",
    "longitude": "11.5350",
    "season": "winter '24"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "winter '24"
    },
    {
    "city": "washington DC",
    "latitude": "38.9072",
    "longitude": "-77.0369",
    "season": "winter '24"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "winter '24"
    },
    {
    "city": "matanzas",
    "latitude": "-33.4625",
    "longitude": "-71.6574",
    "season": "winter '24"
    },
    {
    "city": "santiago",
    "latitude": "-33.4489",
    "longitude": "-70.6693",
    "season": "winter '24"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "winter '24"
    },
    {
    "city": "copenhagen",
    "latitude": "55.6761",
    "longitude": "12.5683",
    "season": "winter '24"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "winter '23"
    },
    {
    "city": "austin",
    "latitude": "30.2672",
    "longitude": "-97.7431",
    "season": "winter '23"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "fall '23"
    },
    {
    "city": "berlin",
    "latitude": "52.5200",
    "longitude": "13.4050",
    "season": "fall '23"
    },
    {
    "city": "warsaw",
    "latitude": "52.2297",
    "longitude": "21.0122",
    "season": "fall '23"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "fall '23"
    },
    {
    "city": "glacier NP",
    "latitude": "48.7596",
    "longitude": "-113.7870",
    "season": "fall '23"
    },
    {
    "city": "tetonia",
    "latitude": "43.8144",
    "longitude": "-111.1528",
    "season": "fall '23"
    },
    {
    "city": "atlanta",
    "latitude": "33.7490",
    "longitude": "-84.3880",
    "season": "summer '23"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "summer '23"
    },
    {
    "city": "jackson",
    "latitude": "42.2459",
    "longitude": "-84.4013",
    "season": "summer '23"
    },
    {
    "city": "new york",
    "latitude": "40.7128",
    "longitude": "-74.0060",
    "season": "winter '23"
    },
    {
    "city": "somerset",
    "latitude": "40.4976",
    "longitude": "-74.4885",
    "season": "winter '23"
    },
    {
    "city": "snowbird",
    "latitude": "40.5831",
    "longitude": "-111.6538",
    "season": "winter '23"
    },
  {
      city: "aspen",
      latitude: "39.1911",
      longitude: "-106.8175",
      season: "winter '23",
    },
    {
      city: "jackson hole",
      latitude: "43.4799",
      longitude: "-110.7624",
      season: "winter '23",
    },
    {
      city: "orlando",
      latitude: "28.5383",
      longitude: "-81.3792",
      season: "winter '23",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '23",
    },
    {
      city: "mt. snow",
      latitude: "42.9777",
      longitude: "-72.854",
      season: "winter '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '22",
    },
    {
      city: "manuel antonio",
      latitude: "9.3794",
      longitude: "-84.098",
      season: "winter '22",
    },
    {
      city: "arenal",
      latitude: "10.4739",
      longitude: "-84.7098",
      season: "winter '22",
    },
    {
      city: "san jose",
      latitude: "9.9281",
      longitude: "-84.0907",
      season: "winter '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "fall '22",
    },
    {
      city: "salt lake city",
      latitude: "40.7608",
      longitude: "-111.891",
      season: "winter '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '22",
    },
    {
      city: "porches",
      latitude: "37.0902",
      longitude: "-8.2439",
      season: "fall '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "fall '22",
    },
    {
      city: "denver",
      latitude: "39.7392",
      longitude: "-104.9903",
      season: "summer '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "summer '22",
    },
    {
      city: "calgary",
      latitude: "51.0486",
      longitude: "-114.0708",
      season: "summer '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "summer '22",
    },
    {
      city: "san francisco",
      latitude: "37.7749",
      longitude: "-122.4194",
      season: "summer '22",
    },
    {
      city: "los angeles",
      latitude: "34.0522",
      longitude: "-118.2437",
      season: "summer '22",
    },
    {
      city: "san francisco",
      latitude: "37.7749",
      longitude: "-122.4194",
      season: "summer '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "summer '22",
    },
    {
      city: "lima",
      latitude: "-12.0464",
      longitude: "-77.0428",
      season: "spring '22",
    },
    {
      city: "cusco",
      latitude: "-13.5319",
      longitude: "-71.9674",
      season: "spring '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "spring '22",
    },
    {
      city: "frankfurt",
      latitude: "50.1109",
      longitude: "8.6821",
      season: "spring '22",
    },
    {
      city: "zillertal",
      latitude: "47.3386",
      longitude: "11.6954",
      season: "winter '22",
    },
    {
      city: "frankfurt",
      latitude: "50.1109",
      longitude: "8.6821",
      season: "winter '22",
    },
    {
      city: "budapest",
      latitude: "47.4979",
      longitude: "19.0402",
      season: "winter '22",
    },
    {
      city: "frankfurt",
      latitude: "50.1109",
      longitude: "8.6821",
      season: "winter '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '22",
    },
    {
      city: "park city",
      latitude: "40.6461",
      longitude: "-111.4949",
      season: "winter '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '22",
    },
    {
      city: "telluride",
      latitude: "37.937",
      longitude: "-107.812",
      season: "winter '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '22",
    },
    {
      city: "aruba",
      latitude: "12.5211",
      longitude: "-69.9683",
      season: "winter '22",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter'22",
    },
    {
      city: "shirley",
      latitude: "40.7957",
      longitude: "-73.5558",
      season: "winter '21",
    },
    {
      city: "old lyme",
      latitude: "41.3417",
      longitude: "-72.3142",
      season: "winter '21",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '21",
    },
    {
      city: "denver",
      latitude: "39.7392",
      longitude: "-104.9903",
      season: "fall '21",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "fall '21",
    },
    {
      city: "denali",
      latitude: "63.3387",
      longitude: "-149.4695",
      season: "fall '21",
    },
    {
      city: "fairbanks",
      latitude: "64.8378",
      longitude: "-147.7164",
      season: "fall '21",
    },
    {
      city: "calgary",
      latitude: "51.0486",
      longitude: "-114.0708",
      season: "fall '21",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "fall '21",
    },
    {
      city: "los angeles",
      latitude: "34.0522",
      longitude: "-118.2437",
      season: "fall '21",
    },
    {
      city: "lake tahoe",
      latitude: "39.0968",
      longitude: "-120.0324",
      season: "fall '21",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "fall '21",
    },
    {
      city: "Albuquerque",
      latitude: "35.1056",
      longitude: "-106.6474",
      season: "summer '21",
    },
    {
      city: "catalina island",
      latitude: "33.3999",
      longitude: "-118.4143",
      season: "summer '21",
    },
    {
      city: "phoenix",
      latitude: "33.4484",
      longitude: "-112.074",
      season: "summer '21",
    },
    {
      city: "long beach island",
      latitude: "39.6261",
      longitude: "-74.2279",
      season: "summer '21",
    },
    {
      city: "cammusett state park",
      latitude: "41.6667",
      longitude: "-70.5167",
      season: "spring '21",
    },
    {
      city: "oceanside",
      latitude: "45.5886",
      longitude: "-123.9362",
      season: "winter '21",
    },
    {
      city: "crater lake",
      latitude: "42.9167",
      longitude: "-122.1667",
      season: "winter '21",
    },
    {
      city: "bend",
      latitude: "44.0519",
      longitude: "-121.3153",
      season: "winter '21",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '21",
    },
    {
      city: "vail",
      latitude: "39.6403",
      longitude: "-106.3742",
      season: "winter '21",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '21",
    },
    {
      city: "sagaponack",
      latitude: "40.9361",
      longitude: "-72.3911",
      season: "winter '21",
    },
    {
      city: "kiawah island",
      latitude: "32.2988",
      longitude: "-80.0441",
      season: "winter '21",
    },
    {
      city: "west windsor",
      latitude: "40.2687",
      longitude: "-74.6282",
      season: "fall '20",
    },
    {
      city: "sawtooth mountains",
      latitude: "43.7833",
      longitude: "-114.6333",
      season: "fall '20",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "covid times",
    },
    {
      city: "somerset",
      latitude: "40.5247",
      longitude: "-74.5125",
      season: "covid times",
    },
    {
      city: "mt. snow",
      latitude: "42.9955",
      longitude: "-72.8741",
      season: "winter '20",
    },
    {
      city: "los angeles",
      latitude: "34.0522",
      longitude: "-118.2437",
      season: "winter '20",
    },
    {
      city: "big sur",
      latitude: "36.0522",
      longitude: "-121.9652",
      season: "winter '20",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '20",
    },
    {
      city: "eloy",
      latitude: "32.8227",
      longitude: "-111.5512",
      season: "winter '20",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '20",
    },
    {
      city: "killington",
      latitude: "43.6287",
      longitude: "-72.7796",
      season: "winter '20",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '20",
    },
    {
      city: "cologne",
      latitude: "50.9333",
      longitude: "6.95",
      season: "winter '19",
    },
    {
      city: "amsterdam",
      latitude: "52.3667",
      longitude: "4.8945",
      season: "winter '19",
    },
    {
      city: "luxembourg city",
      latitude: "49.6117",
      longitude: "6.13",
      season: "winter '19",
    },
    {
      city: "strasbourg",
      latitude: "48.5833",
      longitude: "7.75",
      season: "winter '19",
    },
    {
      city: "stuttgart",
      latitude: "48.7667",
      longitude: "9.1833",
      season: "winter '19",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '19",
    },
    {
      city: "sedona",
      latitude: "34.8667",
      longitude: "-111.7667",
      season: "winter '19",
    },
    {
      city: "grand canyon",
      latitude: "36.0544",
      longitude: "-112.1401",
      season: "winter '19",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.006",
      season: "winter '19",
    },
    {
      city: "malibu",
      latitude: "34.0389",
      longitude: "-118.7778",
      season: "winter '19",
    },
    {
      city: "san diego",
      latitude: "32.7157",
      longitude: "-117.1611",
      season: "winter '19",
    },
    {
      city: "las cruces",
      latitude: "32.3199",
      longitude: "-106.7624",
      season: "spring '21",
    },
    {
      city: "white sands NP",
      latitude: "32.7789",
      longitude: "-106.2669",
      season: "fall '19",
    },
    {
      city: "west windsor",
      latitude: "40.2756",
      longitude: "-74.6608",
      season: "fall '19",
    },
    {
      city: "billerica",
      latitude: "42.5651",
      longitude: "-71.2697",
      season: "fall '19",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "fall '19",
    },
    {
      city: "napa",
      latitude: "38.2975",
      longitude: "-122.2868",
      season: "summer '19",
    },
    {
      city: "bodega bay",
      latitude: "38.3143",
      longitude: "-123.0462",
      season: "summer '19",
    },
    {
      city: "mexico city",
      latitude: "19.4333",
      longitude: "-99.1333",
      season: "summer '19",
    },
    {
      city: "nevado de toluca",
      latitude: "19.2794",
      longitude: "-99.6294",
      season: "summer '19",
    },
    {
      city: "teotihuacan",
      latitude: "19.6833",
      longitude: "-98.9667",
      season: "summer '19",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "summer '19",
    },
    {
      city: "glacier NP",
      latitude: "48.7596",
      longitude: "-113.7870",
      season: "summer '19",
    },
    {
      city: "yellowstone NP",
      latitude: "44.4280",
      longitude: "-110.5885",
      season: "summer '19",
    },
    {
      city: "denver",
      latitude: "39.7392",
      longitude: "-104.9903",
      season: "summer '19",
    },
    {
      city: "bryce canyon np",
      latitude: "37.5858",
      longitude: "-112.1870",
      season: "spring '19",
    },
    {
      city: "zion np",
      latitude: "37.2982",
      longitude: "-113.0263",
      season: "spring '19",
    },
    {
      city: "killington",
      latitude: "43.6247",
      longitude: "-72.7793",
      season: "winter '19",
    },
    {
      city: "london",
      latitude: "51.5074",
      longitude: "-0.1278",
      season: "winter '19",
    },
    {
      city: "dover",
      latitude: "51.1306",
      longitude: "1.3077",
      season: "winter '19",
    },
    {
      city: "nuneaton",
      latitude: "52.5426",
      longitude: "-1.4728",
      season: "winter '19",
    },
    {
      city: "san francisco",
      latitude: "37.7749",
      longitude: "-122.4194",
      season: "winter '19",
    },
    {
      city: "billerica",
      latitude: "42.5584",
      longitude: "-71.2675",
      season: "winter '19",
    },
    {
      city: "la jolla",
      latitude: "32.8954",
      longitude: "-117.2522",
      season: "winter '19",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '19",
    },
    {
      city: "kiawah island",
      latitude: "32.5892",
      longitude: "-80.0558",
      season: "winter '18",
    },
    {
      city: "billerica",
      latitude: "42.5584",
      longitude: "-71.2675",
      season: "winter '18",
    },
    {
      city: "nuneaton",
      latitude: "52.5426",
      longitude: "-1.4728",
      season: "winter '18",
    },
    {
      city: "snowdonia",
      latitude: "52.9362",
      longitude: "-4.1026",
      season: "winter '18",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '18",
    },
    {
      city: "woburn",
      latitude: "42.4759",
      longitude: "-71.1940",
      season: "fall '18",
    },
    {
      city: "bristol",
      latitude: "43.5867",
      longitude: "-72.6090",
      season: "fall '18",
    },
    {
      city: "palo alto",
      latitude: "37.4292",
      longitude: "-122.1381",
      season: "fall '18",
    },
    {
      city: "chennai",
      latitude: "13.0827",
      longitude: "80.2707",
      season: "summer '18",
    },
    {
      city: "mumbai",
      latitude: "19.0760",
      longitude: "72.8777",
      season: "summer '18",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "summer '18",
    },
    {
      city: "belmont park",
      latitude: "40.7062",
      longitude: "-73.7501",
      season: "summer '18",
    },
    {
      city: "salt lake city",
      latitude: "40.7608",
      longitude: "-111.8910",
      season: "spring '18",
    },
    {
      city: "arches np",
      latitude: "38.6869",
      longitude: "-109.5498",
      season: "spring '18",
    },
    {
      city: "peabody",
      latitude: "42.5262",
      longitude: "-70.9288",
      season: "spring '18",
    },
    {
      city: "nashville",
      latitude: "36.1627",
      longitude: "-86.7816",
      season: "spring '18",
    },
    {
      city: "woburn",
      latitude: "42.4759",
      longitude: "-71.1940",
      season: "spring '18",
    },
    {
      city: "grand canyon",
      latitude: "36.1069",
      longitude: "-112.1126",
      season: "spring '18",
    },
    {
      city: "franconia notch",
      latitude: "44.1535",
      longitude: "-71.6921",
      season: "winter '18",
    },
    {
      city: "santa monica",
      latitude: "34.0195",
      longitude: "-118.4912",
      season: "winter '18",
    },
    {
      city: "pasadena",
      latitude: "34.1478",
      longitude: "-118.1445",
      season: "winter '18",
    },
    {
      city: "death valley",
      latitude: "36.4701",
      longitude: "-117.1350",
      season: "winter '18",
    },
    {
      city: "las vegas",
      latitude: "36.1699",
      longitude: "-115.1398",
      season: "winter '18",
    },
    {
      city: "west windsor",
      latitude: "40.2672",
      longitude: "-74.6282",
      season: "winter '17",
    },
    {
      city: "montreal",
      latitude: "45.5017",
      longitude: "-73.5673",
      season: "winter '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '17",
    },
    {
      city: "snowqualmie falls",
      latitude: "47.5301",
      longitude: "-121.5801",
      season: "fall '17",
    },
    {
      city: "east liberty",
      latitude: "39.9384",
      longitude: "-83.0294",
      season: "fall '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "fall '17",
    },
    {
      city: "big sur",
      latitude: "36.3727",
      longitude: "-121.6555",
      season: "fall '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "fall '17",
    },
    {
      city: "southern nh",
      latitude: "42.7325",
      longitude: "-71.4659",
      season: "fall '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "fall '17",
    },
    {
      city: "cinque terra",
      latitude: "44.1378",
      longitude: "9.6863",
      season: "summer '17",
    },
    {
      city: "pisa",
      latitude: "43.7228",
      longitude: "10.4017",
      season: "summer '17",
    },
    {
      city: "florence",
      latitude: "43.7696",
      longitude: "11.2558",
      season: "summer '17",
    },
    {
      city: "rome",
      latitude: "41.9028",
      longitude: "12.4964",
      season: "summer '17",
    },
    {
      city: "griggstown",
      latitude: "40.4914",
      longitude: "-74.6228",
      season: "summer '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "summer '17",
    },
    {
      city: "marthas vineyard",
      latitude: "41.3767",
      longitude: "-70.6262",
      season: "summer '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "summer '17",
    },
    {
      city: "kvalvika beach",
      latitude: "67.2804",
      longitude: "13.5094",
      season: "summer '17",
    },
    {
      city: "tromso",
      latitude: "69.6489",
      longitude: "18.9553",
      season: "summer '17",
    },
    {
      city: "bergen",
      latitude: "60.3913",
      longitude: "5.3221",
      season: "summer '17",
    },
    {
      city: "jotunheimen np",
      latitude: "61.0167",
      longitude: "8.4833",
      season: "summer '17",
    },
    {
      city: "larkollen",
      latitude: "59.3967",
      longitude: "10.4633",
      season: "summer '17",
    },
    {
      city: "oslo",
      latitude: "59.9139",
      longitude: "10.7522",
      season: "summer '17",
    },
    {
      city: "acadia NP",
      latitude: "44.35",
      longitude: "-68.2733",
      season: "summer '17",
    },
    {
      city: "plainsboro",
      latitude: "40.3285",
      longitude: "-74.5141",
      season: "spring '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "spring '17",
    },
    {
      city: "myrtle beach",
      latitude: "33.6891",
      longitude: "-78.8867",
      season: "spring '17",
    },
    {
      city: "long island sound",
      latitude: "41.1296",
      longitude: "-73.5558",
      season: "spring '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "spring '17",
    },
    {
      city: "mt. rainier np",
      latitude: "46.852",
      longitude: "-121.7522",
      season: "spring '17",
    },
    {
      city: "pike place",
      latitude: "47.6062",
      longitude: "-122.3321",
      season: "spring '17",
    },
    {
      city: "big sur",
      latitude: "36.0556",
      longitude: "-121.9167",
      season: "spring '17",
    },
    {
      city: "novato",
      latitude: "38.1072",
      longitude: "-122.5709",
      season: "spring '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '17",
    },
    {
      city: "cabo san lucas",
      latitude: "22.8905",
      longitude: "-109.9167",
      season: "winter '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '17",
    },
    {
      city: "cape flattery",
      latitude: "48.3758",
      longitude: "-124.7286",
      season: "winter '17",
    },
    {
      city: "mt. storm king",
      latitude: "47.8667",
      longitude: "-123.6167",
      season: "winter '17",
    },
    {
      city: "seattle",
      latitude: "47.6062",
      longitude: "-122.3321",
      season: "winter '17",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '17",
    },
    {
      city: "zion np",
      latitude: "37.3167",
      longitude: "-113.05",
      season: "winter '17",
    },
    {
      city: "zurich",
      latitude: "46.1167",
      longitude: "7.2167",
      season: "winter '16",
    },
    {
      city: "strasbourg",
      latitude: "48.5833",
      longitude: "7.75",
      season: "winter '16",
    },
    {
      city: "mt. lafayette",
      latitude: "44.1667",
      longitude: "-71.65",
      season: "winter '16",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '16",
    },
    {
      city: "half moon bay",
      latitude: "37.4631",
      longitude: "-122.4283",
      season: "winter '16",
    },
    {
      city: "point reyes",
      latitude: "38.0722",
      longitude: "-122.8333",
      season: "winter '16",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '16",
    },
    {
      city: "hyannis",
      latitude: "41.6562",
      longitude: "-70.2863",
      season: "winter '16",
    },
    {
      city: "stanford",
      latitude: "37.4192",
      longitude: "-122.0574",
      season: "fall '16",
    },
    {
      city: "cambridge",
      latitude: "42.3736",
      longitude: "-71.1097",
      season: "fall '16",
    },
    {
      city: "berkeley",
      latitude: "37.8716",
      longitude: "-122.2727",
      season: "fall '16",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "fall '16",
    },
    {
      city: "chicago",
      latitude: "41.8781",
      longitude: "-87.6298",
      season: "fall '16",
    },
    {
      city: "big sur",
      latitude: "36.1169",
      longitude: "-121.5058",
      season: "fall '16",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "fall '16",
    },
    {
      city: "mt washington",
      latitude: "44.2703",
      longitude: "-71.3055",
      season: "summer '16",
    },
    {
      city: "mt tallac",
      latitude: "38.9328",
      longitude: "-120.1465",
      season: "summer '16",
    },
    {
      city: "silver springs",
      latitude: "39.5062",
      longitude: "-119.4778",
      season: "summer '16",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "spring '16",
    },
    {
      city: "san francisco",
      latitude: "37.7749",
      longitude: "-122.4194",
      season: "spring '16",
    },
    {
      city: "el capitan",
      latitude: "37.7312",
      longitude: "-119.6351",
      season: "spring '16",
    },
    {
      city: "los angeles",
      latitude: "34.0522",
      longitude: "-118.2437",
      season: "winter '16",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "winter '16",
    },
    {
      city: "new york",
      latitude: "40.7128",
      longitude: "-74.0060",
      season: "winter '15",
    },
    {
      city: "franconia notch",
      latitude: "44.2172",
      longitude: "-71.6805",
      season: "winter '15",
    },
    {
      city: "boston",
      latitude: "42.3601",
      longitude: "-71.0589",
      season: "fall '15",
    },
    {
      city: "plainsboro",
      latitude: "40.3287",
      longitude: "-74.5122",
      season: "fall '15",
    },
  ];

  var timer;
  var timerIndex = 0;

  var lastSeasonShown = "spring '24";
  var hasClickedGlobeTwice = false;

  function startTimer() {
    timer = setInterval(function () {
      if (hasClickedGlobe) {
        return
      }

      if (timerIndex > cities.length - 1) {
        document.getElementById("city_name").innerText = "thanks for watching!";
        document.getElementById("season_name").innerText = "please send a note if you liked this :)";
        return;
      }

      var city = cities[timerIndex];
  
      document.getElementById("city_name").style.opacity = 0;
      document.getElementById("mini_city").style.opacity = 0;
      document.getElementById("mini_city").classList.remove("slide-right");

      if (city["season"] != lastSeasonShown) {
        document.getElementById("season_name").style.opacity = 0;
        document.getElementById("header_subtitle").style.opacity = 0;
        lastSeasonShown = city["season"];
      }

      if (document.getElementById("header_title").innerText == "interactive mode") {
        document.getElementById("header_title").style.opacity = 0;
        document.getElementById("header_subtitle").style.opacity = 0;
      }

      setTimeout(function () {
        // document.getElementById("city_name").innerText = city["city"];
        // document.getElementById("season_name").innerText = city["season"];
        document.getElementById("header_subtitle").innerText = city["season"];
        document.getElementById("mini_city").innerText = city["city"];

        document.getElementById("header_title").innerText = "travel log";
        
        // document.getElementById("city_name").style.opacity = 1;
        // document.getElementById("season_name").style.opacity = 0.5;

        document.getElementById("header_title").style.opacity = 0.25;
        document.getElementById("header_subtitle").style.opacity = 0.5;
      }, 500);

      emitArc({ lat: city["latitude"], lng: city["longitude"] });

      setTimeout(function () {
          document.getElementById("mini_city").style.opacity = 1.0;
      }, 1700);


      timerIndex++;
    }, 2500);
  }

  function stopTimer() {
    clearInterval(timer);
  }

  setTimeout(startTimer, 3000);
  
  let prevCoords = { lat: 40.7128, lng: -74.006 };
  var delayIndex = 0;

  function clickedLocation({lat: endLat, lng: endLng}) {
    delayIndex += 1;

    var currentDelayIndex = delayIndex;
    setTimeout(function () {
        if (delayIndex == currentDelayIndex) {
          hasClickedGlobe = false;
        }
    }, 6000);

    document.getElementById("mini_city").style.opacity = 0.0;
    document.getElementById("mini_city").classList.remove("slide-right");
    document.getElementById("mini_city").innerText = "";

    emitArc({ lat: endLat, lng: endLng });
  }

  function emitArc({ lat: endLat, lng: endLng }) {
    const { lat: startLat, lng: startLng } = prevCoords;
    setTimeout(() => {
      prevCoords = { lat: endLat, lng: endLng };
    }, FLIGHT_TIME);

    const arc = { startLat, startLng, endLat, endLng };
    globe.arcsData([...globe.arcsData(), arc]);
    setTimeout(
      () => globe.arcsData(globe.arcsData().filter((d) => d !== arc)),
      FLIGHT_TIME * 2
    );

    const srcRing = { lat: startLat, lng: startLng };
    globe.ringsData([...globe.ringsData(), srcRing]);
    setTimeout(
      () => globe.ringsData(globe.ringsData().filter((r) => r !== srcRing)),
      FLIGHT_TIME * ARC_REL_LEN
    );

    setTimeout(() => {
      const targetRing = { lat: endLat, lng: endLng };
      globe.ringsData([...globe.ringsData(), targetRing]);
      setTimeout(
        () =>
          globe.ringsData(globe.ringsData().filter((r) => r !== targetRing)),
        FLIGHT_TIME * ARC_REL_LEN
      );
    }, FLIGHT_TIME);

    globe.pointOfView({ lat: endLat, lng: endLng, alt: 1.6 }, 2000);
  }

</script>
